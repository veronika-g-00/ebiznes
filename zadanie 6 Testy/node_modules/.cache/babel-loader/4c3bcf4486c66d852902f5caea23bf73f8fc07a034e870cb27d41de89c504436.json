{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\veron\\\\Desktop\\\\INFORMATYKA STOSOWANA\\\\Semestr II\\\\Ebiznes\\\\zadanie 5 Frontend\\\\client\\\\src\\\\Produkty.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Produkty() {\n  _s();\n  const [produkty, setProdukty] = useState([]);\n  const [ladowanie, setLadowanie] = useState(true);\n  const [blad, setBlad] = useState(null);\n  useEffect(() => {\n    const pobierzProdukty = async () => {\n      try {\n        // Pamiętaj o konfiguracji proxy w package.json (\"proxy\": \"http://localhost:8080\")\n        // lub podaj pełny adres URL serwera backendowego\n        const odpowiedz = await fetch('/api/products');\n        if (!odpowiedz.ok) {\n          throw new Error(`HTTP error! status: ${odpowiedz.status}`);\n        }\n        const dane = await odpowiedz.json();\n        setProdukty(dane);\n        setBlad(null);\n      } catch (error) {\n        console.error(\"Błąd podczas pobierania produktów:\", error);\n        setBlad(\"Nie udało się załadować produktów. Czy serwer backendowy działa?\"); // Zaktualizowany komunikat błędu\n        setProdukty([]);\n      } finally {\n        setLadowanie(false);\n      }\n    };\n    pobierzProdukty();\n  }, []);\n  if (ladowanie) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0141adowanie produkt\\xF3w...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }, this);\n  }\n  if (blad) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"B\\u0142\\u0105d: \", blad]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Nasze Produkty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), produkty.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Brak dost\\u0119pnych produkt\\xF3w.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: produkty.map(produkt => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [produkt.nazwa, \" - \", produkt.cena, \" PLN\"]\n      }, produkt.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(Produkty, \"/iKHBZyxqnTqiaHgVVDZr5hQ0MY=\");\n_c = Produkty;\nexport default Produkty;\nvar _c;\n$RefreshReg$(_c, \"Produkty\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Produkty","_s","produkty","setProdukty","ladowanie","setLadowanie","blad","setBlad","pobierzProdukty","odpowiedz","fetch","ok","Error","status","dane","json","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","produkt","nazwa","cena","id","_c","$RefreshReg$"],"sources":["C:/Users/veron/Desktop/INFORMATYKA STOSOWANA/Semestr II/Ebiznes/zadanie 5 Frontend/client/src/Produkty.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction Produkty() {\r\n  const [produkty, setProdukty] = useState([]);\r\n  const [ladowanie, setLadowanie] = useState(true);\r\n  const [blad, setBlad] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const pobierzProdukty = async () => {\r\n      try {\r\n        // Pamiętaj o konfiguracji proxy w package.json (\"proxy\": \"http://localhost:8080\")\r\n        // lub podaj pełny adres URL serwera backendowego\r\n        const odpowiedz = await fetch('/api/products');\r\n\r\n        if (!odpowiedz.ok) {\r\n          throw new Error(`HTTP error! status: ${odpowiedz.status}`);\r\n        }\r\n\r\n        const dane = await odpowiedz.json();\r\n        setProdukty(dane);\r\n        setBlad(null);\r\n      } catch (error) {\r\n        console.error(\"Błąd podczas pobierania produktów:\", error);\r\n        setBlad(\"Nie udało się załadować produktów. Czy serwer backendowy działa?\"); // Zaktualizowany komunikat błędu\r\n        setProdukty([]);\r\n      } finally {\r\n        setLadowanie(false);\r\n      }\r\n    };\r\n\r\n    pobierzProdukty();\r\n  }, []);\r\n\r\n  if (ladowanie) {\r\n    return <div>Ładowanie produktów...</div>;\r\n  }\r\n\r\n  if (blad) {\r\n    return <div>Błąd: {blad}</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Nasze Produkty</h2>\r\n      {produkty.length === 0 ? (\r\n        <p>Brak dostępnych produktów.</p>\r\n      ) : (\r\n        <ul>\r\n          {/* Zakładamy, że każdy produkt ma 'id', 'nazwa' i 'cena' */}\r\n          {produkty.map(produkt => (\r\n            <li key={produkt.id}>\r\n              {produkt.nazwa} - {produkt.cena} PLN\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Produkty;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACd,MAAMW,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACF;QACA;QACA,MAAMC,SAAS,GAAG,MAAMC,KAAK,CAAC,eAAe,CAAC;QAE9C,IAAI,CAACD,SAAS,CAACE,EAAE,EAAE;UACjB,MAAM,IAAIC,KAAK,CAAC,uBAAuBH,SAAS,CAACI,MAAM,EAAE,CAAC;QAC5D;QAEA,MAAMC,IAAI,GAAG,MAAML,SAAS,CAACM,IAAI,CAAC,CAAC;QACnCZ,WAAW,CAACW,IAAI,CAAC;QACjBP,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;QAC1DT,OAAO,CAAC,kEAAkE,CAAC,CAAC,CAAC;QAC7EJ,WAAW,CAAC,EAAE,CAAC;MACjB,CAAC,SAAS;QACRE,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IAEDG,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIJ,SAAS,EAAE;IACb,oBAAOL,OAAA;MAAAmB,QAAA,EAAK;IAAsB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC1C;EAEA,IAAIhB,IAAI,EAAE;IACR,oBAAOP,OAAA;MAAAmB,QAAA,GAAK,kBAAM,EAACZ,IAAI;IAAA;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAChC;EAEA,oBACEvB,OAAA;IAAAmB,QAAA,gBACEnB,OAAA;MAAAmB,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACtBpB,QAAQ,CAACqB,MAAM,KAAK,CAAC,gBACpBxB,OAAA;MAAAmB,QAAA,EAAG;IAA0B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAEjCvB,OAAA;MAAAmB,QAAA,EAEGhB,QAAQ,CAACsB,GAAG,CAACC,OAAO,iBACnB1B,OAAA;QAAAmB,QAAA,GACGO,OAAO,CAACC,KAAK,EAAC,KAAG,EAACD,OAAO,CAACE,IAAI,EAAC,MAClC;MAAA,GAFSF,OAAO,CAACG,EAAE;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEf,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CACL;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACrB,EAAA,CAxDQD,QAAQ;AAAA6B,EAAA,GAAR7B,QAAQ;AA0DjB,eAAeA,QAAQ;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}